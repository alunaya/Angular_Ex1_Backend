<div fxLayout="column">
    <div fxLayout="row">
        <div fxFlex="25" fxLayout="column">
            <div fxLayoutAlign="center">
                <h2 class="number-figure">
                    {{costSummary.totalCost? (costSummary.totalCost | currency): '_ _ _'}}
                </h2>
            </div>
            <div fxLayoutAlign="center">
                <h5>{{costSummary.isCurrentMonth? 'SPENDED THIS MONTH' : 'TOTAL SPENDED'}}</h5>
            </div>
        </div>
        <div fxFlex="25">
            <div fxLayoutAlign="center">
                <h2 class="number-figure">
                    {{costSummary.isCurrentMonth? (costSummary.estimatedCost | currency): '_ _ _'}}
                </h2>
            </div>
            <div fxLayoutAlign="center">
                <h5>ESTIMATED COST THIS MONTH</h5>
            </div>
        </div>
        <div fxFlex="25">
            <div fxLayoutAlign="center">
                <h2 class="number-figure">
                    {{costSummary.previousMonthCost? (costSummary.previousMonthCost | currency): '_ _ _'}}
                </h2>
            </div>
            <div fxLayoutAlign="center">
                <h5>LAST MONTH</h5>
            </div>
        </div>
        <div fxFlex="25">
            <div fxLayoutAlign="center">
                <h2 [ngClass]=
                "{
                    'number-figure': !costSummary.changeFromLastMonth,
                    'green-spending': costSummary.changeFromLastMonth < 0,
                    'red-spending': costSummary.changeFromLastMonth > 0
                }">
                    {{costSummary.changeFromLastMonth? (costSummary.changeFromLastMonth | currency): '_ _ _'}}
                </h2>
            </div>
            <div fxLayoutAlign="center">
                <h5>CHANGE FROM LAST MONTH</h5>
            </div>
        </div>
    </div>
    <div>
        <h4 class="section-title">SERVICES BREAKDOWN</h4>
    </div>
    <div fxLayout="row">

        <div fxFlex="60" class="table-container">
            <table mat-table [dataSource]="serviceBills.services" class="mat-elevation-z8">

                <ng-container matColumnDef="legend">
                  <td mat-cell *matCellDef="let serviceBill"></td>
                  <td mat-footer-cell *matFooterCellDef></td>
                </ng-container>
              
                <ng-container matColumnDef="name">
                  <td mat-cell *matCellDef="let serviceBill"> {{serviceBill.serviceName}} </td>
                  <td mat-footer-cell *matFooterCellDef> Total </td>
                </ng-container>
              
                <ng-container matColumnDef="cost">
                  <td mat-cell *matCellDef="let serviceBill; stickyEnd:true"> {{serviceBill.cost | currency}} </td>
                  <td mat-footer-cell *matFooterCellDef>
                      {{serviceBills.totalCost ? (serviceBills.totalCost | currency) : '_ _ _'}}
                  </td>
                </ng-container>
              
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                <tr mat-footer-row *matFooterRowDef="displayedColumns, sticky:true"></tr>
              </table>
        </div>
        <div fxFlex="40">
            <ngx-charts-pie-chart
                [results]="serviceBillChartData"
                [doughnut]="true"
                [labels]="true"
                [legend]="false"
            >
            </ngx-charts-pie-chart>
        </div>
    </div>
</div>